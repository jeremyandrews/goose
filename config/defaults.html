<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Defaults - The Goose Book</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Goose Book</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="defaults"><a class="header" href="#defaults">Defaults</a></h1>
<p>All run-time options can be configured with custom defaults. For example, you may want to default to the the host name of your local development environment, only requiring that <code>--host</code> be set when running against a production environment. Assuming your local development environment is at "http://local.dev/" you can do this as follows:</p>
<pre><code class="language-rust ignore">    GooseAttack::initialize()?
        .register_scenario(scenario!("LoadtestTransactions")
            .register_transaction(transaction!(loadtest_index))
        )
        .set_default(GooseDefault::Host, "http://local.dev/")?
        .execute()
        .await?;

    Ok(())</code></pre>
<p>The following defaults can be configured with a <code>&amp;str</code>:</p>
<ul>
<li>host: <code>GooseDefault::Host</code></li>
<li>set a per-request timeout: <code>GooseDefault::Timeout</code></li>
<li>users to start per second: <code>GooseDefault::HatchRate</code></li>
<li>report file names: <code>GooseDefault::ReportFile</code></li>
<li>goose log file name: <code>GooseDefault::GooseLog</code></li>
<li>request log file name: <code>GooseDefault::RequestLog</code></li>
<li>transaction log file name: <code>GooseDefault::TransactionLog</code></li>
<li>error log file name: <code>GooseDefault::ErrorLog</code></li>
<li>debug log file name: <code>GooseDefault::DebugLog</code></li>
<li>test plan: <code>GooseDefault::TestPlan</code></li>
<li>host to bind telnet Controller to: <code>GooseDefault::TelnetHost</code></li>
<li>host to bind WebSocket Controller to: <code>GooseDefault::WebSocketHost</code></li>
<li>host to bind Manager to: <code>GooseDefault::ManagerBindHost</code></li>
<li>host for Worker to connect to: <code>GooseDefault::ManagerHost</code></li>
</ul>
<p>The following defaults can be configured with a <code>usize</code> integer:</p>
<ul>
<li>total users to start: <code>GooseDefault::Users</code></li>
<li>how quickly to start all users: <code>GooseDefault::StartupTime</code></li>
<li>how often to print running metrics: <code>GooseDefault::RunningMetrics</code></li>
<li>number of seconds for test to run: <code>GooseDefault::RunTime</code></li>
<li>log level: <code>GooseDefault::LogLevel</code></li>
<li>quiet: <code>GooseDefault::Quiet</code></li>
<li>verbosity: <code>GooseDefault::Verbose</code></li>
<li>maximum requests per second: <code>GooseDefault::ThrottleRequests</code></li>
<li>number of Workers to expect: <code>GooseDefault::ExpectWorkers</code></li>
<li>port to bind telnet Controller to: <code>GooseDefault::TelnetPort</code></li>
<li>port to bind WebSocket Controller to: <code>GooseDefault::WebSocketPort</code></li>
<li>port to bind Manager to: <code>GooseDefault::ManagerBindPort</code></li>
<li>port for Worker to connect to: <code>GooseDefault::ManagerPort</code></li>
</ul>
<p>The following defaults can be configured with a <code>bool</code>:</p>
<ul>
<li>do not reset metrics after all users start: <code>GooseDefault::NoResetMetrics</code></li>
<li>do not print metrics: <code>GooseDefault::NoPrintMetrics</code></li>
<li>do not track metrics: <code>GooseDefault::NoMetrics</code></li>
<li>do not track transaction metrics: <code>GooseDefault::NoTransactionMetrics</code></li>
<li>do not log the request body in the error log: <code>GooseDefault::NoRequestBody</code></li>
<li>do not display the error summary: <code>GooseDefault::NoErrorSummary</code></li>
<li>do not log the response body in the debug log: <code>GooseDefault::NoDebugBody</code></li>
<li>do not start telnet Controller thread: <code>GooseDefault::NoTelnet</code></li>
<li>do not start WebSocket Controller thread: <code>GooseDefault::NoWebSocket</code></li>
<li>do not autostart load test, wait instead for a Controller to start: <code>GooseDefault::NoAutoStart</code></li>
<li>do not gzip compress requests: <code>GooseDefault::NoGzip</code></li>
<li>do not track status codes: <code>GooseDefault::NoStatusCodes</code></li>
<li>follow redirect of base_url: <code>GooseDefault::StickyFollow</code></li>
<li>enable Manager mode: <code>GooseDefault::Manager</code></li>
<li>enable Worker mode: <code>GooseDefault::Worker</code></li>
<li>ignore load test checksum: <code>GooseDefault::NoHashCheck</code></li>
<li>do not collect granular data in the reports: <code>GooseDefault::NoGranularData</code></li>
</ul>
<p>The following defaults can be configured with a <code>GooseLogFormat</code>:</p>
<ul>
<li>request log file format: <code>GooseDefault::RequestFormat</code></li>
<li>transaction log file format: <code>GooseDefault::TransactionFormat</code></li>
<li>error log file format: <code>GooseDefault::ErrorFormat</code></li>
<li>debug log file format: <code>GooseDefault::DebugFormat</code></li>
</ul>
<p>The following defaults can be configured with a <code>GooseCoordinatedOmissionMitigation</code>:</p>
<ul>
<li>default Coordinated Omission Mitigation strategy: <code>GooseDefault::CoordinatedOmissionMitigation</code></li>
</ul>
<p>For example, without any run-time options the following load test would automatically run against <code>local.dev</code>, logging metrics to <code>goose-metrics.log</code> and debug to <code>goose-debug.log</code>. It will automatically launch 20 users in 4 seconds, and run the load test for 15 minutes. Metrics will be displayed every minute during the test, and the status code table will be disabled. The order the defaults are set is not important.</p>
<pre><code class="language-rust ignore">    GooseAttack::initialize()?
        .register_scenario(scenario!("LoadtestTransactions")
            .register_transaction(transaction!(loadtest_index))
        )
        .set_default(GooseDefault::Host, "local.dev")?
        .set_default(GooseDefault::RequestLog, "goose-requests.log")?
        .set_default(GooseDefault::DebugLog, "goose-debug.log")?
        .set_default(GooseDefault::Users, 20)?
        .set_default(GooseDefault::HatchRate, 4)?
        .set_default(GooseDefault::RunTime, 900)?
        .set_default(GooseDefault::RunningMetrics, 60)?
        .set_default(GooseDefault::NoStatusCodes, true)?
        .execute()
        .await?;

    Ok(())</code></pre>
<p>Find a complete list of all configuration options that can be configured with custom defaults <a href="https://docs.rs/goose/*/goose/config/enum.GooseDefault.html">in the developer documentation</a>, as well as complete details on <a href="https://docs.rs/goose/*/goose/config/trait.GooseDefaultType.html">how to configure defaults</a>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../config/overview.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../config/scheduler.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../config/overview.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../config/scheduler.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
